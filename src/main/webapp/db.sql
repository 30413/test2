CREATE TABLE TBL_MOVIE_2025(
    movieId CHAR(8) PRIMARY KEY,
    title VARCHAR2(100),
    director VARCHAR2(50),
    year CHAR(4)
);

INSERT INTO TBL_MOVIE_2025 VALUES('M0000001', '미래 전쟁', '김철수', '2025');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000002', '우주 여행', '이영희', '2023');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000003', '자바로 만든 영화', '박민준', '2024');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000004', '푸른 숲의 모험', '최은지', '2019');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000005', '데이터 마스터', '정호석', '2025');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000006', '사라진 문명', '한지민', '2018');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000007', '로봇과 함께', '윤성우', '2020');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000008', '별빛 아래 약속', '오지현', '2017');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000009', '글로벌 경제 영화', '김도윤', '2022');
INSERT INTO TBL_MOVIE_2025 VALUES('M0000010', '게임 개발 스토리', '박서연', '2021');


CREATE SEQUENCE SEQ_BOOKING_ID
START WITH 1
INCREMENT BY 1
NOCACHE
NOCYCLE;

CREATE TABLE TBL_BOOKING (
    bookingId NUMBER PRIMARY KEY,
    movieId CHAR(8) NOT NULL,
    seat NUMBER NOT NULL,
    customer VARCHAR2(50) NOT NULL,
    bookingDate DATE DEFAULT SYSDATE,
    CONSTRAINT fk_movie FOREIGN KEY (movieId) REFERENCES TBL_MOVIE_2025(movieId)
);
INSERT INTO TBL_BOOKING(bookingId, movieId, seat, customer)
VALUES(SEQ_BOOKING_ID.NEXTVAL, 'M0000001', 2, '홍길동');

INSERT INTO TBL_BOOKING(bookingId, movieId, seat, customer)
VALUES(SEQ_BOOKING_ID.NEXTVAL, 'M0000003', 1, '김영희');

INSERT INTO TBL_BOOKING(bookingId, movieId, seat, customer)
VALUES(SEQ_BOOKING_ID.NEXTVAL, 'M0000005', 3, '박철수');

select * from TBL_BOOKING;